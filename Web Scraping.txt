#Web Scraping

##Get html text
import requests
webpage = requests.get('https://www.codecademy.com/articles/http-requests')
print(webpage.text)

## get Content
import requests
webpage = requests.get('https://www.codecademy.com/articles/http-requests')
print(webpage.text)

##Get diffrent part of codes
soup = BeautifulSoup('<div id="example">An example div</div><p>An example p tag</p>')
print(soup.div)		==> <div id="example">An example div</div>
print(soup.div.name)	==> div
print(soup.div.attrs)	==> {'id': 'example'}
print(soup.div.string)	==> An example div

	###Lists
for child in soup.ul.children:
    print(child)

for parent in soup.li.parents:
    print(parent)


##Find
print(soup.find("h1"))

import re
soup.find_all(re.compile("[ou]l"))
soup.find_all(re.compile("h[1-9]"))

soup.find_all(['h1', 'a', 'p'])
soup.find_all(attrs={'class':'banner', 'id':'jumbotron'})


##CSS Selectors
soup.select(".recipeLink")	==> Class
soup.select("#selected")	==> ID

for link in soup.select(".recipeLink > a"):		==> This loop will go through each link in each .recipeLink div and create a soup object out of the webpage it links to
  webpage = requests.get(link)
  new_soup = BeautifulSoup(webpage)


##.get_text()
soup.get_text()
soup.get_text('|')



### Example:

'''
import requests
from bs4 import BeautifulSoup
import pandas as pd

prefix = "https://content.codecademy.com/courses/beautifulsoup/"
webpage_response = requests.get('https://content.codecademy.com/courses/beautifulsoup/shellter.html')

webpage = webpage_response.content
soup = BeautifulSoup(webpage, "html.parser")

turtle_links = soup.find_all("a")
links = []
#go through all of the a tags and get the links associated with them"
for a in turtle_links:
  links.append(prefix+a["href"])
    
#Define turtle_data:
turtle_data = {}

#follow each link:
for link in links:
  webpage = requests.get(link)
  turtle = BeautifulSoup(webpage.content, "html.parser")
  turtle_name = turtle.select(".name")[0].get_text()
  
  stats = turtle.find("ul")
  stats_text = stats.get_text("|")
  turtle_data[turtle_name] = stats_text.split("|")
  
turtle_df = pd.DataFrame.from_dict(turtle_data , orient='index')

print(turtle_df)
'''